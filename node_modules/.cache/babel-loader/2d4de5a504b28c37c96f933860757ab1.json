{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { pick } from 'lodash';\nimport userApi from '../../../api/user-api';\nconst userSlide = createSlice({\n  name: 'user',\n  initialState: {\n    loading: true,\n    user: {},\n    page: 1,\n    limit: 10,\n    search: '',\n    sort: 'createAt',\n    direction: 'desc'\n  },\n  reducers: {\n    loadUsersStart(state) {\n      state.loading = true;\n    },\n\n    loadUsersSuccess(state, action) {\n      state.user = action.payload;\n      state.loading = false;\n    },\n\n    loadUsersFailed(state) {\n      state.loading = false;\n    },\n\n    updateSort(state, action) {\n      state.page = action.payload.page;\n      state.limit = action.payload.limit;\n      state.sort = action.payload.sort;\n      state.direction = action.payload.direction;\n    },\n\n    searchUser(state, action) {\n      state.search = action.payload;\n    }\n\n  }\n});\nconst {\n  actions,\n  reducer\n} = userSlide;\nexport const {\n  loadUsersStart,\n  loadUsersSuccess,\n  loadUsersFailed,\n  updateSort,\n  searchUser\n} = actions;\nexport const loadUsers = () => async (dispatch, getState) => {\n  try {\n    const state = getState();\n    const data = pick(state.user, ['page', 'limit', 'search', 'sort', 'direction']);\n    dispatch(loadUsersStart());\n    const response = await userApi.loadUsers(data);\n    dispatch(loadUsersSuccess(response));\n  } catch (err) {\n    dispatch(loadUsersFailed());\n  }\n};\nexport default reducer;","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/AdminClient/src/features/dashboard/state/userSlide.ts"],"names":["createSlice","pick","userApi","userSlide","name","initialState","loading","user","page","limit","search","sort","direction","reducers","loadUsersStart","state","loadUsersSuccess","action","payload","loadUsersFailed","updateSort","searchUser","actions","reducer","loadUsers","dispatch","getState","data","response","err"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AAEA,MAAMC,SAAS,GAAGH,WAAW,CAAC;AAC1BI,EAAAA,IAAI,EAAE,MADoB;AAE1BC,EAAAA,YAAY,EAAE;AACVC,IAAAA,OAAO,EAAE,IADC;AAEVC,IAAAA,IAAI,EAAE,EAFI;AAGVC,IAAAA,IAAI,EAAE,CAHI;AAIVC,IAAAA,KAAK,EAAE,EAJG;AAKVC,IAAAA,MAAM,EAAE,EALE;AAMVC,IAAAA,IAAI,EAAE,UANI;AAOVC,IAAAA,SAAS,EAAE;AAPD,GAFY;AAW1BC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,cAAc,CAACC,KAAD,EAAQ;AAClBA,MAAAA,KAAK,CAACT,OAAN,GAAgB,IAAhB;AACH,KAHK;;AAINU,IAAAA,gBAAgB,CAACD,KAAD,EAAQE,MAAR,EAAgB;AAC5BF,MAAAA,KAAK,CAACR,IAAN,GAAaU,MAAM,CAACC,OAApB;AACAH,MAAAA,KAAK,CAACT,OAAN,GAAgB,KAAhB;AACH,KAPK;;AAQNa,IAAAA,eAAe,CAACJ,KAAD,EAAQ;AACnBA,MAAAA,KAAK,CAACT,OAAN,GAAgB,KAAhB;AACH,KAVK;;AAWNc,IAAAA,UAAU,CAACL,KAAD,EAAQE,MAAR,EAAgB;AACtBF,MAAAA,KAAK,CAACP,IAAN,GAAaS,MAAM,CAACC,OAAP,CAAeV,IAA5B;AACAO,MAAAA,KAAK,CAACN,KAAN,GAAcQ,MAAM,CAACC,OAAP,CAAeT,KAA7B;AACAM,MAAAA,KAAK,CAACJ,IAAN,GAAaM,MAAM,CAACC,OAAP,CAAeP,IAA5B;AACAI,MAAAA,KAAK,CAACH,SAAN,GAAkBK,MAAM,CAACC,OAAP,CAAeN,SAAjC;AACH,KAhBK;;AAiBNS,IAAAA,UAAU,CAACN,KAAD,EAAQE,MAAR,EAAgB;AACtBF,MAAAA,KAAK,CAACL,MAAN,GAAeO,MAAM,CAACC,OAAtB;AACH;;AAnBK;AAXgB,CAAD,CAA7B;AAkCA,MAAM;AAAEI,EAAAA,OAAF;AAAWC,EAAAA;AAAX,IAAuBpB,SAA7B;AAEA,OAAO,MAAM;AACTW,EAAAA,cADS;AAETE,EAAAA,gBAFS;AAGTG,EAAAA,eAHS;AAITC,EAAAA,UAJS;AAKTC,EAAAA;AALS,IAMTC,OANG;AAQP,OAAO,MAAME,SAAS,GAAG,MAAM,OAAOC,QAAP,EAAsBC,QAAtB,KAAwC;AACnE,MAAI;AACA,UAAMX,KAAK,GAAGW,QAAQ,EAAtB;AACA,UAAMC,IAAI,GAAG1B,IAAI,CAACc,KAAK,CAACR,IAAP,EAAa,CAAC,MAAD,EAAS,OAAT,EAAkB,QAAlB,EAA4B,MAA5B,EAAoC,WAApC,CAAb,CAAjB;AACAkB,IAAAA,QAAQ,CAACX,cAAc,EAAf,CAAR;AACA,UAAMc,QAAQ,GAAG,MAAM1B,OAAO,CAACsB,SAAR,CAAkBG,IAAlB,CAAvB;AAEAF,IAAAA,QAAQ,CAACT,gBAAgB,CAACY,QAAD,CAAjB,CAAR;AACH,GAPD,CAOE,OAAOC,GAAP,EAAY;AACVJ,IAAAA,QAAQ,CAACN,eAAe,EAAhB,CAAR;AACH;AACJ,CAXM;AAaP,eAAeI,OAAf","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { pick } from 'lodash';\nimport userApi from '../../../api/user-api';\n\nconst userSlide = createSlice({\n    name: 'user',\n    initialState: {\n        loading: true,\n        user: {},\n        page: 1,\n        limit: 10,\n        search: '',\n        sort: 'createAt',\n        direction: 'desc',\n    },\n    reducers: {\n        loadUsersStart(state) {\n            state.loading = true;\n        },\n        loadUsersSuccess(state, action) {\n            state.user = action.payload;\n            state.loading = false;\n        },\n        loadUsersFailed(state) {\n            state.loading = false;\n        },\n        updateSort(state, action) {\n            state.page = action.payload.page;\n            state.limit = action.payload.limit;\n            state.sort = action.payload.sort;\n            state.direction = action.payload.direction;\n        },\n        searchUser(state, action) {\n            state.search = action.payload;\n        },\n    },\n});\n\nconst { actions, reducer } = userSlide;\n\nexport const {\n    loadUsersStart,\n    loadUsersSuccess,\n    loadUsersFailed,\n    updateSort,\n    searchUser,\n} = actions;\n\nexport const loadUsers = () => async (dispatch: any, getState: any) => {\n    try {\n        const state = getState();\n        const data = pick(state.user, ['page', 'limit', 'search', 'sort', 'direction']);\n        dispatch(loadUsersStart());\n        const response = await userApi.loadUsers(data);\n\n        dispatch(loadUsersSuccess(response));\n    } catch (err) {\n        dispatch(loadUsersFailed());\n    }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}