{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/AdminClient/src/features/dashboard/components/billing-table.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Table } from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { updateSort } from '../state/billingSlide';\nimport Action from './billings/action';\nimport { AliasPackage, ColorPackage, EBillingPackageType } from '../../../constants';\nimport formatMoney from '../../../utils/format-money';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BillingTable = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const loading = useSelector(state => state.billing.loading);\n  const billings = useSelector(state => state.billing.billings);\n  const page = useSelector(state => state.billing.page);\n  const limit = useSelector(state => state.billing.limit);\n\n  const handleTableChange = (pagination, filters, sorter) => {\n    const data = {\n      page: pagination.current,\n      limit: pagination.pageSize,\n      sort: sorter.field,\n      direction: !sorter.order ? '' : sorter.order === 'ascend' ? 'asc' : 'desc'\n    };\n    dispatch(updateSort(data));\n  };\n\n  const dataSource = (billings.data || []).map((billing, index) => ({ ...billing,\n    index: (page - 1) * 10 + index + 1\n  }));\n  const columns = [{\n    title: 'STT',\n    dataIndex: 'index',\n    key: 'index',\n    align: 'center'\n  }, {\n    title: 'Tên cửa hàng',\n    dataIndex: 'storeId',\n    align: 'center',\n    key: 'storeId',\n    render: storeId => /*#__PURE__*/_jsxDEV(Link, {\n      to: `/dashboard/shops/${storeId._id}`,\n      target: \"_blank\",\n      children: storeId.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this)\n  }, {\n    title: 'Gói dịch vụ',\n    dataIndex: 'packageType',\n    key: 'packageType',\n    render: packageType => {\n      const listName = [];\n\n      if (packageType & EBillingPackageType.Trial) {\n        listName.push(AliasPackage[EBillingPackageType.Trial]);\n      }\n\n      if (packageType === EBillingPackageType.Omni) {\n        listName.push(`<span style=\"color: ${ColorPackage[EBillingPackageType.Omni]}\">${AliasPackage[EBillingPackageType.Omni]}</span>`);\n      }\n\n      if (packageType & EBillingPackageType.Pos) {\n        listName.push(`<span style=\"color: ${ColorPackage[EBillingPackageType.Pos]}\">${AliasPackage[EBillingPackageType.Pos]}</span>`);\n      }\n\n      if (packageType & EBillingPackageType.Facebook) {\n        listName.push(`<span style=\"color: ${ColorPackage[EBillingPackageType.Facebook]}\">${AliasPackage[EBillingPackageType.Facebook]}</span>`);\n      }\n\n      if (packageType & EBillingPackageType.Shopee) {\n        listName.push(`<span style=\"color: ${ColorPackage[EBillingPackageType.Shopee]}\">${AliasPackage[EBillingPackageType.Shopee]}</span>`);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        dangerouslySetInnerHTML: {\n          __html: listName.join(', ')\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 24\n      }, this);\n    }\n  }, {\n    title: 'Tổng tiền',\n    align: 'center',\n    dataIndex: 'total',\n    key: 'total',\n    render: total => formatMoney(total)\n  }, {\n    title: 'Mã đơn hàng',\n    align: 'center',\n    dataIndex: 'transactionCode',\n    key: 'transactionCode'\n  }, {\n    title: 'Thời hạn (tháng)',\n    align: 'center',\n    dataIndex: 'period',\n    key: 'period'\n  }, {\n    title: 'Ngày đăng ký',\n    align: 'center',\n    dataIndex: 'createdAt',\n    key: 'createdAt',\n    // sorter: true,\n    render: createdAt => moment(createdAt).format('DD/MM/YYYY')\n  }, {\n    title: 'Thao tác',\n    align: 'center',\n    key: '_id',\n    render: record => /*#__PURE__*/_jsxDEV(Action, {\n      billingId: record._id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 43\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(Table, {\n    bordered: true,\n    loading: loading,\n    dataSource: dataSource,\n    columns: columns,\n    rowKey: \"_id\",\n    onChange: handleTableChange,\n    pagination: {\n      total: billings.total || 0,\n      showSizeChanger: false,\n      pageSize: limit,\n      current: page\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BillingTable, \"JOe+F0ArMLaoW4IEBv1COlyV0Lc=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = BillingTable;\nexport default BillingTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"BillingTable\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/AdminClient/src/features/dashboard/components/billing-table.tsx"],"names":["React","Table","useSelector","useDispatch","Link","moment","updateSort","Action","AliasPackage","ColorPackage","EBillingPackageType","formatMoney","BillingTable","dispatch","loading","state","billing","billings","page","limit","handleTableChange","pagination","filters","sorter","data","current","pageSize","sort","field","direction","order","dataSource","map","index","columns","title","dataIndex","key","align","render","storeId","_id","name","packageType","listName","Trial","push","Omni","Pos","Facebook","Shopee","__html","join","total","createdAt","format","record","showSizeChanger"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Table } from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { ColumnsType } from 'antd/lib/table';\nimport { updateSort } from '../state/billingSlide';\nimport Action from './billings/action';\nimport { AliasPackage, ColorPackage, EBillingPackageType } from '../../../constants';\nimport { IStore, IBilling } from '../../../models/billing';\nimport formatMoney from '../../../utils/format-money';\n\nconst BillingTable = () => {\n    const dispatch = useDispatch();\n    const loading = useSelector((state: any) => state.billing.loading);\n    const billings = useSelector((state: any) => state.billing.billings);\n    const page = useSelector((state: any) => state.billing.page);\n    const limit = useSelector((state: any) => state.billing.limit);\n\n    const handleTableChange = (pagination: any, filters: any, sorter: any) => {\n        const data = {\n            page: pagination.current,\n            limit: pagination.pageSize,\n            sort: sorter.field,\n            direction: !sorter.order ? '' : sorter.order === 'ascend' ? 'asc' : 'desc',\n        };\n\n        dispatch(updateSort(data));\n    };\n\n    const dataSource = (billings.data || []).map((billing: IBilling, index: number) => ({\n        ...billing,\n        index: (page - 1) * 10 + index + 1,\n    }));\n\n    const columns: ColumnsType<[]> = [\n        { title: 'STT', dataIndex: 'index', key: 'index', align: 'center' },\n        {\n            title: 'Tên cửa hàng',\n            dataIndex: 'storeId',\n            align: 'center',\n            key: 'storeId',\n            render: (storeId: IStore) =>\n                <Link to={`/dashboard/shops/${storeId._id}`} target='_blank'>\n                    {storeId.name}\n                </Link>,\n        },\n        {\n            title: 'Gói dịch vụ',\n            dataIndex: 'packageType',\n            key: 'packageType',\n            render: (packageType: number) => {\n                const listName = [];\n                if (packageType & EBillingPackageType.Trial) {\n                    listName.push(AliasPackage[EBillingPackageType.Trial]);\n                }\n                if (packageType === EBillingPackageType.Omni) {\n                    listName.push(`<span style=\"color: ${ColorPackage[EBillingPackageType.Omni]}\">${AliasPackage[EBillingPackageType.Omni]}</span>`);\n                }\n                if (packageType & EBillingPackageType.Pos) {\n                    listName.push(`<span style=\"color: ${ColorPackage[EBillingPackageType.Pos]}\">${AliasPackage[EBillingPackageType.Pos]}</span>`);\n                }\n                if (packageType & EBillingPackageType.Facebook) {\n                    listName.push(`<span style=\"color: ${ColorPackage[EBillingPackageType.Facebook]}\">${AliasPackage[EBillingPackageType.Facebook]}</span>`);\n                }\n                if (packageType & EBillingPackageType.Shopee) {\n                    listName.push(`<span style=\"color: ${ColorPackage[EBillingPackageType.Shopee]}\">${AliasPackage[EBillingPackageType.Shopee]}</span>`);\n                }\n                return <span dangerouslySetInnerHTML={{ __html: listName.join(', ') }}></span>;\n            },\n        },\n        {\n            title: 'Tổng tiền',\n            align: 'center',\n            dataIndex: 'total',\n            key: 'total',\n            render: (total: number) => formatMoney(total),\n        },\n        {\n            title: 'Mã đơn hàng',\n            align: 'center',\n            dataIndex: 'transactionCode',\n            key: 'transactionCode',\n        },\n        {\n            title: 'Thời hạn (tháng)',\n            align: 'center',\n            dataIndex: 'period',\n            key: 'period',\n        },\n        {\n            title: 'Ngày đăng ký',\n            align: 'center',\n            dataIndex: 'createdAt',\n            key: 'createdAt',\n            // sorter: true,\n            render: (createdAt: string) => moment(createdAt).format('DD/MM/YYYY'),\n        },\n        {\n            title: 'Thao tác',\n            align: 'center',\n            key: '_id',\n            render: (record: IBilling) => <Action billingId={record._id} />,\n        },\n    ];\n\n    return (\n        <Table\n            bordered\n            loading={loading}\n            dataSource={dataSource}\n            columns={columns}\n            rowKey='_id'\n            onChange={handleTableChange}\n            pagination={{\n                total: billings.total || 0,\n                showSizeChanger: false,\n                pageSize: limit,\n                current: page,\n            }}\n        />\n    );\n};\n\nexport default BillingTable;\n"]},"metadata":{},"sourceType":"module"}