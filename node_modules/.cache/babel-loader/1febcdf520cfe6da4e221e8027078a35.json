{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/AdminClient/src/features/dashboard/components/billing-table.tsx\",\n    _s = $RefreshSig$();\n\nimport { Table } from 'antd';\nimport moment from 'moment';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { AliasPackage, ColorPackage, EBillingPackageType } from '../../../constants';\nimport formatMoney from '../../../utils/format-money';\nimport { updateSort } from '../state/billingSlide';\nimport Action from './billings/action';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BillingTable = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const loading = useSelector(state => state.billing.loading);\n  const billings = useSelector(state => state.billing.billings);\n  const page = useSelector(state => state.billing.page);\n  const limit = useSelector(state => state.billing.limit);\n\n  const handleTableChange = (pagination, filters, sorter) => {\n    const data = {\n      page: pagination.current,\n      limit: pagination.pageSize,\n      sort: sorter.field,\n      direction: !sorter.order ? undefined : sorter.order === 'ascend' ? 'asc' : 'desc'\n    };\n    dispatch(updateSort(data));\n  };\n\n  const dataSource = (billings.data || []).map((billing, index) => ({ ...billing,\n    index: (page - 1) * 10 + index + 1\n  }));\n  const columns = [{\n    title: 'STT',\n    dataIndex: 'index',\n    key: 'index',\n    align: 'center'\n  }, {\n    title: 'Tên cửa hàng',\n    dataIndex: 'storeId',\n    align: 'center',\n    key: 'storeId',\n    render: storeId => /*#__PURE__*/_jsxDEV(Link, {\n      to: `/dashboard/shops/${storeId._id}`,\n      target: \"_blank\",\n      children: storeId.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this)\n  }, {\n    title: 'Gói dịch vụ',\n    dataIndex: 'packageType',\n    key: 'packageType',\n    align: 'center',\n    render: packageType => {\n      const listName = [];\n\n      if (packageType & EBillingPackageType.Trial) {\n        listName.push(AliasPackage[EBillingPackageType.Trial]);\n      }\n\n      if (packageType === EBillingPackageType.Omni) {\n        listName.push(`<span style=\"color: ${ColorPackage[EBillingPackageType.Omni]}\">${AliasPackage[EBillingPackageType.Omni]}</span>`);\n      }\n\n      if (packageType & EBillingPackageType.Pos) {\n        listName.push(`<span style=\"color: ${ColorPackage[EBillingPackageType.Pos]}\">${AliasPackage[EBillingPackageType.Pos]}</span>`);\n      }\n\n      if (packageType & EBillingPackageType.Facebook) {\n        listName.push(`<span style=\"color: ${ColorPackage[EBillingPackageType.Facebook]}\">${AliasPackage[EBillingPackageType.Facebook]}</span>`);\n      }\n\n      if (packageType & EBillingPackageType.Shopee) {\n        listName.push(`<span style=\"color: ${ColorPackage[EBillingPackageType.Shopee]}\">${AliasPackage[EBillingPackageType.Shopee]}</span>`);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        dangerouslySetInnerHTML: {\n          __html: listName.join(', ')\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this);\n    }\n  }, {\n    title: 'Tổng tiền',\n    align: 'center',\n    dataIndex: 'total',\n    key: 'total',\n    sorter: true,\n    render: total => formatMoney(total)\n  }, {\n    title: 'Mã đơn hàng',\n    align: 'center',\n    dataIndex: 'transactionCode',\n    key: 'transactionCode'\n  }, {\n    title: 'Thời hạn (tháng)',\n    align: 'center',\n    dataIndex: 'period',\n    key: 'period',\n    sorter: true\n  }, {\n    title: 'Ngày đăng ký',\n    align: 'center',\n    dataIndex: 'createdAt',\n    key: 'createdAt',\n    sorter: true,\n    render: createdAt => moment(createdAt).format('DD/MM/YYYY')\n  }, {\n    title: 'Thao tác',\n    align: 'center',\n    key: '_id',\n    render: record => /*#__PURE__*/_jsxDEV(Action, {\n      billingId: record._id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 43\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(Table, {\n    bordered: true,\n    loading: loading,\n    dataSource: dataSource,\n    columns: columns,\n    rowKey: \"_id\",\n    onChange: handleTableChange,\n    pagination: {\n      total: billings.total || 0,\n      showSizeChanger: false,\n      pageSize: limit,\n      current: page\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BillingTable, \"JOe+F0ArMLaoW4IEBv1COlyV0Lc=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = BillingTable;\nexport default BillingTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"BillingTable\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/AdminClient/src/features/dashboard/components/billing-table.tsx"],"names":["Table","moment","React","useDispatch","useSelector","Link","AliasPackage","ColorPackage","EBillingPackageType","formatMoney","updateSort","Action","BillingTable","dispatch","loading","state","billing","billings","page","limit","handleTableChange","pagination","filters","sorter","data","current","pageSize","sort","field","direction","order","undefined","dataSource","map","index","columns","title","dataIndex","key","align","render","storeId","_id","name","packageType","listName","Trial","push","Omni","Pos","Facebook","Shopee","__html","join","total","createdAt","format","record","showSizeChanger"],"mappings":"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","sourcesContent":["import { Table } from 'antd';\nimport { ColumnsType } from 'antd/lib/table';\nimport moment from 'moment';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { AliasPackage, ColorPackage, EBillingPackageType } from '../../../constants';\nimport { IBilling, IStore } from '../../../models/billing';\nimport formatMoney from '../../../utils/format-money';\nimport { updateSort } from '../state/billingSlide';\nimport Action from './billings/action';\n\nconst BillingTable = () => {\n    const dispatch = useDispatch();\n    const loading = useSelector((state: any) => state.billing.loading);\n    const billings = useSelector((state: any) => state.billing.billings);\n    const page = useSelector((state: any) => state.billing.page);\n    const limit = useSelector((state: any) => state.billing.limit);\n\n    const handleTableChange = (pagination: any, filters: any, sorter: any) => {\n        const data = {\n            page: pagination.current,\n            limit: pagination.pageSize,\n            sort: sorter.field,\n            direction: !sorter.order ? undefined : sorter.order === 'ascend' ? 'asc' : 'desc',\n        };\n\n        dispatch(updateSort(data));\n    };\n\n    const dataSource = (billings.data || []).map((billing: IBilling, index: number) => ({\n        ...billing,\n        index: (page - 1) * 10 + index + 1,\n    }));\n\n    const columns: ColumnsType<[]> = [\n        { title: 'STT', dataIndex: 'index', key: 'index', align: 'center' },\n        {\n            title: 'Tên cửa hàng',\n            dataIndex: 'storeId',\n            align: 'center',\n            key: 'storeId',\n            render: (storeId: IStore) => (\n                <Link to={`/dashboard/shops/${storeId._id}`} target='_blank'>\n                    {storeId.name}\n                </Link>\n            ),\n        },\n        {\n            title: 'Gói dịch vụ',\n            dataIndex: 'packageType',\n            key: 'packageType',\n            align: 'center',\n            render: (packageType: number) => {\n                const listName = [];\n                if (packageType & EBillingPackageType.Trial) {\n                    listName.push(AliasPackage[EBillingPackageType.Trial]);\n                }\n                if (packageType === EBillingPackageType.Omni) {\n                    listName.push(\n                        `<span style=\"color: ${ColorPackage[EBillingPackageType.Omni]}\">${\n                            AliasPackage[EBillingPackageType.Omni]\n                        }</span>`,\n                    );\n                }\n                if (packageType & EBillingPackageType.Pos) {\n                    listName.push(\n                        `<span style=\"color: ${ColorPackage[EBillingPackageType.Pos]}\">${\n                            AliasPackage[EBillingPackageType.Pos]\n                        }</span>`,\n                    );\n                }\n                if (packageType & EBillingPackageType.Facebook) {\n                    listName.push(\n                        `<span style=\"color: ${ColorPackage[EBillingPackageType.Facebook]}\">${\n                            AliasPackage[EBillingPackageType.Facebook]\n                        }</span>`,\n                    );\n                }\n                if (packageType & EBillingPackageType.Shopee) {\n                    listName.push(\n                        `<span style=\"color: ${ColorPackage[EBillingPackageType.Shopee]}\">${\n                            AliasPackage[EBillingPackageType.Shopee]\n                        }</span>`,\n                    );\n                }\n                return (\n                    <span\n                        dangerouslySetInnerHTML={{\n                            __html: listName.join(', '),\n                        }}\n                    ></span>\n                );\n            },\n        },\n        {\n            title: 'Tổng tiền',\n            align: 'center',\n            dataIndex: 'total',\n            key: 'total',\n            sorter: true,\n            render: (total: number) => formatMoney(total),\n        },\n        {\n            title: 'Mã đơn hàng',\n            align: 'center',\n            dataIndex: 'transactionCode',\n            key: 'transactionCode',\n        },\n        {\n            title: 'Thời hạn (tháng)',\n            align: 'center',\n            dataIndex: 'period',\n            key: 'period',\n            sorter: true,\n        },\n        {\n            title: 'Ngày đăng ký',\n            align: 'center',\n            dataIndex: 'createdAt',\n            key: 'createdAt',\n            sorter: true,\n            render: (createdAt: string) => moment(createdAt).format('DD/MM/YYYY'),\n        },\n        {\n            title: 'Thao tác',\n            align: 'center',\n            key: '_id',\n            render: (record: IBilling) => <Action billingId={record._id} />,\n        },\n    ];\n\n    return (\n        <Table\n            bordered\n            loading={loading}\n            dataSource={dataSource}\n            columns={columns}\n            rowKey='_id'\n            onChange={handleTableChange}\n            pagination={{\n                total: billings.total || 0,\n                showSizeChanger: false,\n                pageSize: limit,\n                current: page,\n            }}\n        />\n    );\n};\n\nexport default BillingTable;\n"]},"metadata":{},"sourceType":"module"}